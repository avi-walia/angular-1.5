<ci-loader loading="$ctrl.service.isLoading">
    <div style="margin-top:15px;" ng-if="$ctrl.service[$ctrl.service.objectName].length > 0">
        {{$ctrl.service[$ctrl.service.objectName].length}} {{'searchResultsFound' | translate}}
    </div>
    <div style="margin-top:10px;border:solid black 1px;padding:25px;" ng-if="$ctrl.service[$ctrl.service.objectName].length > 0">
        <!--
        <div ng-if="$ctrl.detectMobile.isDesktop" ng-include="$ctrl.service.desktopTemplatePath">
        -->
        <div ng-if="$ctrl.detectMobile.isDesktop">
            <table style="width:100%">
                <thead>
                <tr>
                    <th>
                        <button ng-click="$ctrl.service.sortBy($ctrl.service.sortableColumns[0])">First Name</button>
                    </th>
                    <th>
                        <button ng-click="$ctrl.service.sortBy($ctrl.service.sortableColumns[1])">Last Name</button>
                    </th>
                    <th>
                        <button ng-click="$ctrl.service.sortBy($ctrl.service.sortableColumns[2])">City</button>
                    </th>
                    <th>
                        <button ng-click="$ctrl.service.sortBy($ctrl.service.sortableColumns[3])">Province</button>
                    </th>
                </tr>
                </thead>
            </table>
            <div ng-if="$ctrl.detectMobile.isDesktop" class="full" ng-class="{'lastAdvisorRow': $last, 'notLastAdvisorRow': !$last}" ng-repeat="element in $ctrl.service[$ctrl.service.objectName] | limitTo:$ctrl.service.numPerPage:($ctrl.service.currentPage-1)*$ctrl.service.numPerPage track by $index">
                <a ui-sref="main.advisorLocator.advisorDetails({id: element.id})">
                    <span ng-if="element.showCommon">{{element.commonName}}</span>
                    <span ng-if="!element.showCommon">{{element.firstName}}</span> {{element.lastName}}
                    <span style="float:right;">{{element.partialBranchInfo.city}}, {{element.partialBranchInfo.provinceAbbr}}<img style='margin-left:30px' src="assets/images/circleChevron.png" /></span>
                </a>
            </div>

        </div>
        <div ng-if="!$ctrl.detectMobile.isDesktop">
            <div infinite-scroll="$ctrl.service.loadMore();">
                <table style="width:100%">
                    <thead>
                    <tr>
                        <th>
                            <button ng-click="$ctrl.service.sortBy($ctrl.service.sortableColumns[0])">First Name</button>
                        </th>
                        <th>
                            <button ng-click="$ctrl.service.sortBy($ctrl.service.sortableColumns[1])">Last Name</button>
                        </th>
                        <th>
                            <button ng-click="$ctrl.service.sortBy($ctrl.service.sortableColumns[2])">City</button>
                        </th>
                        <th>
                            <button ng-click="$ctrl.service.sortBy($ctrl.service.sortableColumns[3])">Province</button>
                        </th>
                    </tr>
                    </thead>
                </table>
                <div ng-class="{'lastAdvisorRow': $last, 'notLastAdvisorRow': !$last}" ng-repeat="element in $ctrl.service[$ctrl.service.objectName] | limitTo:$ctrl.service.mobileMaxNumDisplay track by $index">
                    <a ui-sref="main.advisorLocator.advisorDetails({id: element.id})" >
                        <span ng-if="element.showCommon">{{element.commonName}}</span>
                        <span ng-if="!element.showCommon">{{element.firstName}}</span> {{element.lastName}}
                        <span style="float:right;">{{element.partialBranchInfo.city}}, {{element.partialBranchInfo.provinceAbbr}}<img style='margin-left:30px' src="assets/images/circleChevron.png" /></span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="!$ctrl.service[$ctrl.service.objectName].length" translate>
        noSearchCriteria
    </div>

    <ul
        ng-if="$ctrl.detectMobile.isDesktop && $ctrl.service[$ctrl.service.objectName].length > 0"
        class="pagination"
        uib-pagination
        total-items="$ctrl.service[$ctrl.service.objectName].length"
        ng-model="$ctrl.service.currentPage"
        ng-change="$ctrl.service.pageChanged($ctrl.service.currentPage)"
        max-size="7"
        force-ellipses="true"
        items-per-page="$ctrl.service.numPerPage"
    >
    </ul>
</ci-loader>